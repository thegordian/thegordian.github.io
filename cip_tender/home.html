<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css"
          data-require="leaflet@0.7.3" data-semver="0.7.3"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link rel="stylesheet" href="lib/css/leaflet-sidebar.min.css"/>
    <link rel="stylesheet" href="style.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intro.js/3.0.1/introjs.min.css"
          integrity="sha512-fsq7ym+bMq7ecs277R2a3QDPxF+JIwNNnkPfj9rIKDUyqrbXDnICZj/cCLcP3bKh3+jsCBnBR7BZJShOmELL0Q=="
          crossorigin="anonymous"/>

    <style>
        /* Style the form - display items horizontally */
        .form-inline {
            display: flex;
            flex-flow: row wrap;
            align-items: center;
        }

        /* Add some margins for each label */
        .form-inline label {
            margin: 5px 10px 5px 0;
        }

        /* Style the input fields */
        .form-inline select {
            vertical-align: middle;
            margin: 5px 10px 5px 0;
            padding: 10px;
            background-color: #fff;
            border: 1px solid #ddd;
        }

        /* Style the submit button */
        .form-inline button {
            padding: 10px 20px;
            background-color: dodgerblue;
            border: 1px solid #ddd;
            color: white;
        }

        .form-inline button:hover {
            background-color: royalblue;
        }

        /* Add responsiveness - display the form controls vertically instead of horizontally on screens that are less than 800px wide */
        @media (max-width: 800px) {
            .form-inline input {
                margin: 10px 0;
            }

            .form-inline {
                flex-direction: column;
                align-items: stretch;
            }

        }

        /* Style the buttons that are used to open and close the accordion panel */
        .accordion {
            background-color: #eee;
            color: #FF6600;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            text-align: left;
            border: none;
            outline: none;
            transition: 0.4s;
        }

        /* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
        .active, .accordion:hover {
            background-color: #ccc;
        }

        /* Style the accordion panel. Note: hidden by default */
        .panel {
            padding: 0 18px;
            background-color: white;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
        }

        .accordion:after {
            content: '\02795'; /* Unicode character for "plus" sign (+) */
            font-size: 13px;
            color: #777;
            float: right;
            margin-left: 5px;
        }

        .active:after {
            content: "\2796"; /* Unicode character for "minus" sign (-) */
        }
    </style>
</head>
<body>
<a class="position-fixed" id="map-anch" style="top: 100px; left: 25px"></a>

<div class="h-100 w-100">
    <div class="d-flex flex-column h-100">
        <div class="text-center" style="cursor: pointer;padding-top: 8px;padding-left: 8px;padding-right: 8px;">
            <div class="d-flex justify-content-between">
                <button style="background: #FF6600;height:40px;padding: 9px 11px;position: absolute;top:19px;"
                        class="ml-0 btn-light btn color-dark btn-sm"
                        onclick="toggleSideBar()">
                    <i style="color: white;font-size: 20px" class="fa fa-cog"></i>
                </button>
                <h1 class="w-100 map-main-title d-inline font-weight-bold" style="color: #FF6600">Socioeconomic and business value optimized charging infrastructure for regional heavy transports
                    <img id="click-info" src="info_a.gif" style="width: 1.5%"></h1>
            </div>
            <h3 id="experiment_setting" class="w-100 map-main-title d-inline" style="color: #FF6600"><p style="color: rgb(255, 102, 0); font-family: Montserrat; font-size: 16px;">Experiment setting </p></h3>
        </div>
        <div id="map"></div>
    </div>
    <div class="modal fade text-dark" id="info_modal" tabindex="-1" role="dialog"
         aria-labelledby="info_modal" aria-hidden="true" style="position: absolute;z-index: 1000000;">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content  model_style">
                <div class="modal-body d-flex" style="margin-top: 0px !important;">
                    <div style="max-width: 100%">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade text-dark" id="info_modal-1" tabindex="-1" role="dialog"
         aria-labelledby="info_modal" aria-hidden="true" style="position: absolute;z-index: 1000000;">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
<!--                    <h1 class="modal-title font-weight-bold"  id="info_modal_1_title">Mind the gap and the transport routes!-->
<!--                    </h1>-->
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body d-flex" style="margin-top: 0px !important;">
                    <div style="max-width: 100%">
                        <button class="accordion">About Gordian's Geospatial Inteligence Tool for Electromobility</button>
                        <div class="panel">
                            
<p class="p2"><span class="s2"><b><i><br>Background</i></b></span></p>
<p class="p2"><span class="s2">Gordian's Geospatial Intelligence Tool for Electromobility is the result of 20+ years of research into transport route data analytics at KTH that have proven to be extremely valuable in in finding cost-effective charging infrastructure plans to accelerate the green transition of the heavy freight transport sector. These applications have been and continue to be successively developed in research projects like <ul><li><a href="https://www.itrl.kth.se/research/completed-projects/reno-route-based-ers-network-optimization-1.984073">Route-based ERS Network Optimization (RENO)</a>,</li><li><a href="https://www.itrl.kth.se/research/ongoingprojects/lola-1.1104508">Cost-benefit Optimized Charging Infrastructure (LOLA)</a>,</li><li><a href="https://www.itrl.kth.se/research/ongoingprojects/tracer-1.1104526">TRansport DemAnd Centric Decision Support for Electric ChaRging Infrastructure Planning and Operations (TRACER)</a>, and</li><li><a href="https://www.itrl.kth.se/research/ongoingprojects/rose-1.1080689">Learning in Routing Games for Sustainable Electromobility (ROSE)</a>,</li></ul>which have been financed by organization and programs like <br><br><ul><li>Energimyndigheten (Swedish Energy Agency),</li><li> Trafikverket (Swedish Transport Administation),</li><li> TripleF (the Fossile Free Freight strategic innovation program),</li><li>Swedish Electromobility Center,</li><li>ITRL (KTH, Scania, Ericsson), and</li><li> Digital Futures (C3.ai Digital Transformation Institute).</li></ul>

The research and innovation behind the tool has been recognized by the Royal Swedish Academy of Engineering Science's Research2Business Top 100 list for 2020 and spanned a KTH spinoff: Gordian Logistics Optimization Systems AB. Gordian's mission is to deliver superior SaaS products that uniquely utilize transport route data to increase the efficiency, robustness, and sustainability of real-time logistics and transport infrastructure plans. Gordian's vision is to become the one-stop-shop for organizations to discover, manage, and utilize knowledge from their transport route data. The potential of Gordian has been recognized by being selected by the European Institute of Innovation & Technology (EIT) for Urban Mobility as one of Top 5 startups out of 250 startups in 2020. 
<br><br>
<p class="p2"><span class="s2"><b><i>Aims</i></b></span></p>

The overall aim of Gordian for electrification and electromobility is to accelerate the green transition of the transport sector by providing intelligence to establish a well-designed, connected, and inclusive network of charging infrastructure elements (stations) which with related intelligent electromobility services (e-routing, charging control etc.) will make the transitions of relevant actors easy and resource-effective. In this Geospatial Intelligence Tool for Electromobility, Gordian uses its revolutionary technology to provide interactive, data-driven decision support to find socioeconomic- and business value optimized charging infrastructure for regional heavy transports.

<br><br>
<p class="p2"><span class="s2"><b><i>Computer intelligence for electrification scenario evaluations and optimizations</i></b></span></p>

The data-driven decision support is centered around the concept of "route-based electrification" concept that is described below. According to this concept, the electrification utility of a location heavily depends on the routes that vehicles take which both define the vehicles' energy use but also their charging opportunities on the charging infrastructure. The importance and benefits of optimizing charging infrastructure based on this concept as opposed to traffic counts (which have little-to-nothing to do with the actual energy needs and battery-limited charging possibilities of vehicles on their routes) is illustrated for electric roads in this
<br><br>
<iframe width="100%" height="500" src="https://www.youtube.com/embed/ZZTHoidPCP4?rel=0"  frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<br><br>
For charging stations, charging will take a relatively long time hence charging will be most attractive at locations where the driver can use the time during charging for other activities. These locations will most likely be at the start and end of the route and around a few hours into the route when loading, unloading and mandatory rest stops usually take place and the vehicle batteries will likely be close to empty. Thus, as with electric roads, the charging needs and the electrification utilities of locations along the routes will primarily depend on routes and not the traffic counts. In this tool the Gordian technologies are used to evaluate millions of charging infrastructure plans to find a socioeconomic- and business value optimized charging infrastructure for regional heavy transports for a targeted large-scale electrification scenario with the following data and parameters: infrastructure is optimized for the simulated annual full and empty transport routes of vehicles with total weights of 24t; 300 KWh vehicle batteries; maximum 300 kW charging power per vehicle (approx. 1C charging rate); 40-minute charging times; and assumed rest stops of vehicles every 1h20min or equivalent approximately every 100km.

<br><br>
<p class="p2"><span class="s2"><b><i>Use of tool and human intelligence in decision making</i></b></span></p>

Although the above evaluations and optimizations are based on realistically simulated data using the Swedish National Freight Model (SAMGODS) that Trafikverket and VTI has developed over the last 30 years to aid decisions about large transport infrastructure development strategy and projects, the optimized locations have to be evaluated and refined by reviewing the top locations in the geographical context of relevant logistics/transport and power grid information such as gas stations, rest stops, facilities, existing charging stations, visible relevant industry activity, suitable substations for grid connections, regional and high-voltage transmission lines, and a cost surface for grid connection taking into account the terrain and the land-use / land-cover information. The tool supports this by overlying the optimized charging infrastructure and the estimated expected charging demand, grid connection and charging equipment costs, and corresponding revenues and returns of investments with layers of information about the described relevant geographical context. A human decision maker can analyze this information to refine the location and the planned dimensioning of a charging infrastructure elements (stations) to make a final decision. 
<br><br>
Two aspects of the use of the tool must be emphasized. First, the tool is arguably to most advanced and accurate tool for predicting the future charging demands which are used to derive an optimized roll-out sequence of charging infrastructure. However, the adoption of electric vehicles and transport energy and charging solutions will not be uniform across vehicle manufacturers, transport missions, logistics and transport operators, etc<sup>*</sup>. Consequently, the predicted charging demands have to be continuously followed up as the transport electrification market and scenario develops and the contextual information in the tool has to be updated and complemented with charging infrastructure utilization information to continuously adjust the remaining charging infrastructure rollout plan. This continuous  follow-up an adjustment of roll-out plan will ensure that charging infrastructure will be built in a predictive, cost-effective way while taking into account the market developments. Second, while in an ideal situation to maximize the socioeconomic and business value of investments all charging infrastructure development should be supported by this tool, in practice independent economic actors and consortia of actors will maximize their own benefits from transport electrification and will establish charging infrastructure that that is "locally" optimal. Gordian, has developed interactive versions of this tool to add and incorporate the electrification effects of public charging infrastructures of other actors to determine an optimized charging infrastructure rollout sequence that maximize the benefits of the remaining investments. This complementary and inclusive planning strategy will also ensure that a holistically  well-connected charging infrastructure network of networks is formed, which is needed to make the electrification shift to possible for all logistics companies easy and thereby accelerating the green transition of regional heavy transports.
<br><br>
<p class="p2"><span class="s3"><sup>*</sup></span><span class="s2">Due to these uncertainties, any estimates provided by this tool alone are only valid for the simulated transport electrification scenario and can only be as accurate as its input data, i.e., the simulated transport routes from SAMGODS in this case. </span></p>
<p class="p2">
                        </div>

                        <button class="accordion">Route-based electrification concept</button>
                        <div class="panel">
                            <p>&nbsp;</p>
                            <p>The <strong><em>utility of any charging infrastructure</em></strong> component (static [charging station] or dynamic [electric road]) at a given location <em>L</em> heavily <strong><em>depends</em></strong> on the <strong><em>State of Charge</em></strong> (SoC) of the <strong><em>battery of the vehicle</em></strong> that passes location <em>L</em> <strong><em>and </em></strong>the <strong><em>energy use and charging opportunities </em></strong>that the vehicle has and uses <strong><em>along </em></strong>its <strong><em>route up to and after location L.</em></strong></p>
                            <p>Hence, the <strong><em>utility of a charging infrastructure component in a network</em></strong> is <strong><em>heavily influenced by the transport routes of several vehicles </em></strong>as it is shown in the figure below.</p>
                            <img src="RBEU.PNG"
                                 style="margin-left: auto;margin-right: auto;display: block;width: 80%">
                            Figure: Illustration of transport route dependent aspects and challenges of ERS
                            placement scenario evaluations and optimizations. 3 routes and segments of three placement
                            scenarios shown in red, light and dark brown.
                            <br>

                        </div>

                        <button class="accordion">Grid cost model</button>
                        <div class="panel">
                            <p><strong>&nbsp;</strong></p>
                            <p>To <strong><em>support</em></strong> the energy and power demand of <strong><em>large-scale electromobility</em></strong> <strong><em>the grid and the power system has to be upgraded</em></strong>. Depending on the location and magnitude of the demand, certain existing power lines / transformers have to be reenforced / upgraded, and new ones have to be established. Additionally, local power production has to be developed.</p>
                            <p><strong><em>Modelling the electric power production and distribution costs</em></strong> in a way takes cost correlations between locations into account <strong><em>is a complex</em></strong> task and the detailed <strong><em>capacity</em></strong> information about the <strong><em>local grid</em></strong> network (10-20kV) is <strong><em>not available</em></strong> from a single source and/or is <strong><em>classified.</em></strong> Thus, to enable the cost-benefit evaluations of charging infrastructure plans, an <strong><em>approximate cost</em></strong> is calculated by <strong><em>multiplying</em></strong> the <strong><em>length of the &ldquo;least-costs&rdquo; paths from </em></strong>each 5km <strong><em>road network segment to the nearest transformer area</em></strong> (obtained from the Swedish Land Survey [SLS]) between the local and regional grid network with the <strong><em>unit cost (405 KSEK/km) of the wire (PEX 3x240 mm2, 24 kV) and its installation</em></strong> that is needed to deliver a required maximum power demand of 10 MW. The least-cost calculations have been based on a<strong><em>cost factor</em></strong> that is a function of the <strong><em>slope of the terrain and the land use</em></strong> classification based on 400-meter resolution data from SLS and a recent white paper on the full cost of electricity [1].&nbsp;</p>
                            <p>[1] Andrade, Juan, Baldick, Ross, &ldquo;Estimation of Transmission Costs for New Generation,&rdquo; White Paper UTEI/2016-09-2, 2017, available at <a href="http://energy.utexas.edu/the-full-cost-of-electricity-fce/">http://energy.utexas.edu/the-full-cost-of-electricity-fce/</a>.</p>
                        </div>

                        <button class="accordion">Charging equipment cost model</button>
                        <div class="panel">
                            <p>&nbsp;</p>
                            <p><strong><em>Electric road</em></strong></p>
                            <p>The cost of an electric road stretch and its road- and/or supporting structure installation is <strong><em>proportional the length of the stretch</em></strong>. The default value of the cost parameter is <strong><em>20 MSEK/lane-km</em></strong>. The electric road equipment/installation is assumed to be able to <strong><em>supply a combined power capacity of 2 MW to charge vehicles that are simultaneously connected to a 1 km segment </em></strong>of the electrified stretch.</p>
                            <p><strong><em>Charging station</em></strong></p>
                            <p>The cost of a charging station is <strong><em>proportional to expected maximum peak power demand</em></strong> at the station that is calculated according to the &ldquo;charging behavior model&rdquo; below. The default value of the cost parameter is <strong><em>2 MSEK/MW</em></strong>.</p>
                            <p>The <strong><em>total cost</em></strong> of a charging infrastructure component (electric road or charging station) is the <strong><em>sum of </em></strong> the <strong><em>grid cost</em></strong> and the <strong><em>charging equipment</em></strong><em>-</em> and its installation <strong><em>cost</em></strong>.</p>
                        </div>

                        <button class="accordion">Energy use model</button>
                        <div class="panel">
                            <p>&nbsp;</p>
                            <p>A simple <strong><em>longitudinal dynamics model</em></strong>, according to Liu et al. (2020) (but without the acceleration component), as shown in the figure below is used to calculate the energy (in Watt-hours) that is needed to move a vehicle across a road edge. The topography or height profile of a road segment is approximated as a sequence of interleaved upward slope-, downward slope-, and flat segment parts where the slopes in the individual parts can be considered to be constant due to spatial resolution of the height measurements. The force acting on the vehicle on an individual part depends on the slope of the part; or equivalently the vertical elevation difference and the horizontal distance during which this elevation difference occurs. To facilitate efficient storage and computations, within an energy error margin of 1-2%, <strong><em>the individual uphill-, downhill-, and flat parts of a segment have been aggregated to one uphill-, one downhill- and one flat part to calculate the energies needed to propel the vehicles</em></strong>. &nbsp;&nbsp;</p>
                        <img src="eum.JPG"
                             style="margin-left: auto;margin-right: auto;display: block;width: 80%">
                        </div>
                        <button class="accordion">Charging (behavior) model</button>
                        <div class="panel">
                            <p><strong>&nbsp;</strong></p>
                            <p>For both electric roads and charging stations a <strong><em>simple linear battery charging model</em></strong> is assumed, i.e., the SoC of the battery raises linearly with the charging time and the charging power irrespective of the SoC of the battery.</p>
                            <p><strong><em>Electric road</em></strong></p>
                            <p>A vehicle is assumed to <strong><em>charge at the maximum charging power</em></strong> while it moves at the posted <strong><em>speed limit</em></strong> of an electrified segment and until its batteries are fully charged. Thereafter, while on an electrified segment, the vehicle with a <strong><em>fully charged battery</em></strong> only <strong><em>draws enough power</em></strong> from the charging infrastructure <strong><em>to propel itself</em></strong> along the electrified segment according to the energy use model. On the &ldquo;last&rdquo; electric road segment that the vehicle encounters on its route the vehicle charges just enough to complete its route.&nbsp;&nbsp;</p>
                            <p>For electric roads it is assumed that the <strong><em>total maximum power</em></strong> that any 1km-long part of the electrified segment can provide is constant with a default value of 2 MW. Thus, a default electric road charging setting for example for a maximum charging power of 300 KW <strong><em>can at least support a vehicle density of 6-7 vehicles per km</em></strong>.</p>
                            <p><strong><em>Charging stations</em></strong></p>
                            <p>A vehicle is assumed to charge with the <strong><em>maximum charging power</em></strong> up to <strong><em>maximum time units</em></strong> at the <strong><em>start of the routes</em></strong>. A vehicle is also assumed to charge with the maximum charging power up to maximum time units <strong><em>at an intermediate charging station if the charging station is at an &ldquo;appropriate stationary charging location&rdquo; for the vehicle considering its route</em></strong>. Appropriate locations for a vehicle are defined as locations that are <strong><em>user-defined time units (e.g., 4-5 hours) apart in the vehicle&rsquo;s route</em></strong>. &nbsp;On the &ldquo;last&rdquo; charging station that the vehicle encounters on its route the vehicle charges just enough to complete its route.&nbsp;</p>
                            <p>The <strong><em>expected maximum peak power demand </em></strong>of a location is calculated by assuming a worst case scenario that the 1/365 of the annual energy demand<strong><em> from stationary charging, i.e., the average daily energy demand manifests itself during a single hour. </em></strong>The cost and power dimensioning of charging stations is calculated according to this expected maximum peak power demand and the charging equipment cost model.&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</p>
                            <p>&nbsp;</p>
                        </div>

                        <button class="accordion">Benefit-cost optimization</button>
                        <div class="panel">
                            <p>&nbsp;</p>
                            <p>Given the four above mentioned models, the optimization of the charging infrastructure is performed by <strong><em>incrementally expanding</em></strong> an initially empty <strong><em>network of charging infrastructure components</em></strong> with a component (electric road or charging station) at the location that <strong><em>maximizes the ratio of the benefit of total energy demand (or equivalently CO2 displacement) and the total cost of charging infrastructure component</em></strong> is maximized. In the present implementation, the <strong><em>budget for an infrastructure</em></strong> is given by the number of charging station <strong><em>k_staions</em></strong> and the number of maximum 5km long electric road segments <strong><em>k_ers</em></strong> that form the charging infrastructure network.</p>

                        </div>

                        <button class="accordion">Technology</button>
                        <div class="panel">
                            <p>&nbsp;</p>
                            <p>The accurate energy use and charging simulations along the transport routes are supported by a <strong><em>proprietary 50x lossless compression of indexed transport route data</em></strong>. The compression and indexing make it possible to perform one <strong><em>simulation of millions of routes for an incremental expansion of the infrastructure plan for a given transport electrification scenario in 0.4 milliseconds</em></strong>. This simulation performance is used to evaluate millions of incremental infrastructure expansion evaluations to effectively guide the search towards a near-optimal infrastructure plan among the infinitely many possible plans. Route-optimized infrastructure plans are <strong><em>up to 5 times more cost-effective / profitable</em></strong> than non-route based (e.g., Average Annual Daily Traffic (AADT)) optimized plans or simple corridor plans.</p>

                        </div>

                        <button class="accordion">Data and experiments</button>
                        <div class="panel">
                            <p>&nbsp;</p>
                            <p><strong><em>Transport route data</em></strong>: Empty and loaded annual transport routes of 24+ ton trucks in 2014 according to Swedish national freight model (SAMGODS).</p>
                            <p><strong><em>Road network data</em></strong>: SAMGODS road network segmented into maximum 5 km-long segments with elevation profiles derived based on a 50 m digital elevation model. Grid-, length- and power demand-based equipment and installation costs for electric roads and charging stations, and total costs are calculated for each road network location according to the above-described models.&nbsp;</p>
                            
                        </div>

                        <button class="accordion">Disclaimer</button>
                        <div class="panel">
                            <p><strong>&nbsp;</strong></p>
                            <p class="p2">Due to the uncertainties described above, any estimates provided by this tool alone are only valid for the simulated transport electrification scenario and can only be as accurate as its input data, i.e., the simulated transport routes from SAMGODS in this case. 
                                <br><br>Thus, the information provided in this tool is provided without any warantees. To adapt this tool to other data (e.g., origin-destination transport assigments of a logistic company, transport route data from fleet management systems, or simulated transport routes of other types of vehicles or vehicles that are operated in other geographies) please contact <a href="mailto:info@thegordian.io"> info@thegordian.io</a>.</p>
                        </div>



<!--                        <p>In order to accelerate the electrification of the heavy freight transport industry and to-->
<!--                            realize of the positive effects of this, <em>it is essential that stakeholders discuss-->
<!--                                and make decisions about Electric Road Systems (ERS) rollout scenarios that maximize-->
<!--                                the benefits, minimize the cost and thereby enable the financial sustainability ERS-->
<!--                                for all stakeholders</em> (vehicle manufacturers, charging equipment manufacturers,-->
<!--                            battery manufacturers, electric network operators, and road authorities).-->

<!--                        <p><em>No presently discussed, largely corridor-based scenario is cost-effective</em> in-->
<!--                            terms of a transport demand perspective because on-board batteries of moving vehicles-->
<!--                            can become fully charged and thereby decrease the utility of the electrified segments.-->
<!--                            Constant gaps between electrified segments does not fix this problem.-->
<!--                        <p>The utility of an electrified segment in a network is heavily influenced by the transport-->
<!--                            routes of vehicles as it is show in the figure below.-->

<!--                            <img src="RBEU.PNG"-->
<!--                                 style="margin-left: auto;margin-right: auto;display: block;width: 80%">-->
<!--                            Figure: Illustration of transport route dependent aspects and challenges of ERS-->
<!--                            placement scenario evaluations and optimizations. 3 routes and segments of three placement-->
<!--                            scenarios shown in red, light and dark brown.-->

<!--                        <p>In the <a-->
<!--                                href="https://www.itrl.kth.se/research/ongoingprojects/reno-route-based-ers-network-optimization-1.984073"-->
<!--                                target="_blank">Route Based ERS Network Optimization (RENO) project</a> (financed in-->
<!--                            part by the <a href="www.itrl.kth.se" target="_blank">Intelligent Transport Research Lab-->
<!--                                (ITRL)</a>, <a href="https://www.vinnova.se/en/" target="_blank">Sweden's innovation agency Vinnova</a>-->
<!--                            and the<a href="https://www.trafikverket.se/en/startpage/" target="_blank"> Swedish Transport-->
<!--                                Administration</a>), we have adapted and applied years of research on trajectory-->
<!--                            data compression, indexing, querying, and analytics in order to optimize the placement-->
<!--                            of ERS from a transport demand perspective.-->

<!--                        <p>Compared to corridor-placements the benefits of optimal scenarios are:-->
<!--                        <ul>-->
<!--                            <li>Up to 3X transport work electrification</li>-->
<!--                            <li>Up to 80% infrastructure cost reduction</li>-->
<!--                            <li>Savings of megatons of CO2 emissions and billions of Euros in infrastructure costs-->
<!--                                at national levels-->
<!--                            </li>-->
<!--                        </ul>-->

<!--                        <p>This page is a web-based dynamic exploration tool of the results. Use it to explore the-->
<!--                            placement and effects of some transport demand optimized- and not-so-optimal-->
<!--                            corridor-based scenarios for some parameter settings.-->

<!--                        <p>Disclaimer: This is a research prototype that is not to be used for commercial purposes.-->
<!--                            For commercial products contact <a href="mailto:info@thegordian.io">-->
<!--                                info@thegordian.io</a>.-->


                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade text-dark" id="info_modal_2" tabindex="-1" role="dialog"
         aria-labelledby="info_modal_2" aria-hidden="true" style="position: absolute;z-index: 1000000;">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content model_style">
                <div class="modal-body d-flex">
                    <div style="max-width: 100%">
                        <p id="message_text" style="text-align: center">...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade text-dark" id="info_modal_3" tabindex="-1" role="dialog"
         aria-labelledby="info_modal_3" aria-hidden="true" style="position: absolute;z-index: 1000000;">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content model_style">
                <div class="modal-body d-flex justify-content-center">
                    <div style="max-width: 100%">
                        <p class="m-0" id="message_loader" style="text-align: center">Loading transport flows of 10
                            million freight transport routes</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button id="slider-button" onclick="toggleSlider()" class="btn" style="position: relative; bottom: 75px;left: 15px; padding-bottom: 5px;padding-right: 10px;padding-top: 5px;padding-left: 10px;"><i class="fa fa-sliders" aria-hidden="true"></i><a class="" id="slider-tooltip"></a></button>
        <div id="filter_slider" style="position: fixed; bottom: 105px; display: none">
            <p class="px-1" id="ros"></p>
            <div class="slider-outer-box">
                <div id="slider-2"></div>
            </div>

        </div>

<div id="sidebar" onclick="toggleSideBar()"></div>
<form id="sidebar-content" class="p-2 text-left text-white" onsubmit="event.preventDefault();">


    <i style="position:sticky;top:0;cursor: pointer"
       class="p-1 text-right fa fa-arrow-circle-left fa-2x sidebar-close d-block" onclick="toggleSideBar()">
    </i>

    <label class="mr-sm-2" for="bs_c" style="display: none">Battery size (kWh)<a id="trg-sidebar"></a></label>
    <select id="bs_c" class="form-control mb-2 mr-sm-2" style="display: none">
        <option value="100">100</option>
        <option value="300">300</option>
    </select>
    <label class="mr-sm-2" for="cp_p" style="display: none">Charging power (kW)</label>
    <select class="form-control mb-2 mr-sm-2" id="cp_p" style="display: none">
        <option value="150">150</option>
        <option value="300">300</option>
    </select>
    <label class="mr-sm-2" for="ib" style="display: none">Infrastructure plan</label>
    <select class="form-control mb-2 mr-sm-2" id="ib" style="display: none">
        <!--<option value="u">User plan</option>-->
        <option value="s1">Small corridor (no grid cost) (300 km ERS)</option>
        <option value="s2">Medium corridor (no grid cost) (1150 km ERS)</option>
        <option value="s3">Large corridor (no grid cost) (1950 km ERS)</option>
        <option value="k60">Optimized (no grid cost) (300 km ERS)</option>
        <option value="k230">Optimized (no grid cost) (1150 km ERS)</option>
        <option value="k390">Optimized (no grid cost) (1950 km ERS)</option>
        <option value="k100">Optimized (no grid cost) (500 km ERS)</option>
        <option value="k200">Optimized (no grid cost) (1000 km ERS)</option>
        <option value="k500">Optimized (no grid cost) (2500 km ERS)</option>
        <option value="gc_k60s00">Optimized (300 km ERS)</option>
        <option value="gc_k230s00">Optimized (1150 km ERS)</option>
        <option value="gc_k390s00">Optimized (1950 km ERS)</option>
        <option value="gc_k30s30">Optimized (150 km ERS + 30 Stations)</option>
        <option value="gc_k115s115">Optimized (575 km ERS + 115 Stations)</option>
        <option value="gc_k230s230">Optimized (975 km ERS + 195 Stations)</option>
        <option value="gc_k00s60">Optimized (60 Stations)</option>
        <option value="gc_k00s230">Optimized (230 Stations)</option>
        <option value="gc_k115s390">Optimized (390 Stations)</option>
    </select>
    <div class="form-check mb-2 mr-sm-2;" style="display: none">
        <input class="form-check-input" type="checkbox" id="b_full" name="b_full" value="Bike">
        <label class="form-check-label" for="b_full">
            Battery full
        </label>
    </div>

    <button id="filter_modal_clear_btn" class="text-white btn  btn-block btn-dark btn-sm mb-2 mr-sm-2"
            style="display: none;">Clear K
    </button>
    <button id="filter_modal_toggle_btn" class="text-white sidebar-btn btn btn-block btn-dark btn-sm mb-2 mr-sm-2" style="display: none">Get
        results<a class="" id="res-trg"></a>
    </button>
    <button id="start_from_here_btn" class="text-white btn sidebar-btn btn-block btn-dark btn-sm mb-2 mr-sm-2"
            style="display: none">
        Start user selection from here
    </button>


    <button id="click-info-2" class="text-white btn sidebar-btn btn-block btn-dark btn-sm mb-2 mr-sm-2">Show
        statistics
    </button>

    <button id="filter_modal_toggle_btn_reset" class="text-white sidebar-btn btn btn-block btn-dark btn-sm mb-2 mr-sm-2"
            style="display: none">
        Reset<a class="" id="res-trg-reset" ></a>
    </button>

    <label class="mr-sm-2" for="energy_demand">Charging station symbology and infrastructure rollout sequence ordering variable:</label>
    <label><input type = "radio" name = "cs_symbology_variable" id = "energy_demand" value="energy_demand" onchange="handleChange(this);">Energy Demand</label>
    <label><input type = "radio" name = "cs_symbology_variable" id = "bcr" value="bcr" onchange="handleChange(this);">Benefit cost ratio</label>

</form>

<div id="hover_info-div" class="d-flex justify-content-center">
    <p id="hover_info">Hover over the map for statistics</p>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"
        data-require="leaflet@0.7.3" data-semver="0.7.3"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/3.0.1/intro.min.js"
        integrity="sha512-Y3bwrs/uUQhiNsD26Mpr5YvfG18EY0J+aNxYI7ZQPJlM9H+lElGpuh/JURVJR/NBE+p1JZ+sVE773Un4zQcagg=="
        crossorigin="anonymous"></script>
<script type="application/javascript" src="lib/js/leaflet-sidebar.min.js"></script>
<script type="application/javascript" src="lib/js/Leaflet.Control.Custom.js"></script>

<script src='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-image/v0.0.4/leaflet-image.js'></script>


<script type="text/javascript" src="data/nt.js"></script>

<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src="tutorial.js"></script>
    <script type="text/javascript">
        function toggleSlider() {
            if (document.getElementById('filter_slider').style.display == 'none') {
                document.getElementById('filter_slider').style.display = 'block';
            } else {
                document.getElementById('filter_slider').style.display = 'none';
            }
        }

        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.maxHeight) {
                    panel.style.maxHeight = null;
                } else {
                    panel.style.maxHeight = panel.scrollHeight + "px";
                }
            });
        }
    </script>

</body>
</html>
